@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --toast-bg: #ffffff;
    --toast-color: #000000;
    --toast-border: #e5e7eb;
    
    /* Light mode - Based on Disha palette */
    --background: 0 0% 100%;
    --foreground: 217 33% 17%;
    --card: 0 0% 100%;
    --card-foreground: 217 33% 17%;
    --popover: 0 0% 100%;
    --popover-foreground: 217 33% 17%;
    --primary: 212 77% 37%; /* #1b52a4 - Dark Blue */
    --primary-foreground: 0 0% 100%;
    --secondary: 195 100% 45%; /* #00a2e5 - Bright Blue */
    --secondary-foreground: 0 0% 100%;
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;
    --accent: 37 95% 52%; /* #f58020 - Orange */
    --accent-foreground: 0 0% 100%;
    --destructive: 356 63% 54%; /* #d64246 - Red */
    --destructive-foreground: 0 0% 100%;
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 212 77% 37%;
    --radius: 0.75rem;
  }

  .dark {
    --toast-bg: #1f2937;
    --toast-color: #ffffff;
    --toast-border: #374151;
    
    /* Dark mode - Optimized for professional look */
    --background: 222 47% 11%;
    --foreground: 210 40% 98%;
    --card: 217 33% 17%;
    --card-foreground: 210 40% 98%;
    --popover: 222 47% 11%;
    --popover-foreground: 210 40% 98%;
    --primary: 195 100% 45%; /* Bright Blue for dark mode */
    --primary-foreground: 222 47% 11%;
    --secondary: 212 77% 37%; /* Dark Blue */
    --secondary-foreground: 0 0% 100%;
    --muted: 217 33% 17%;
    --muted-foreground: 215 20% 65%;
    --accent: 37 95% 52%; /* Orange */
    --accent-foreground: 0 0% 100%;
    --destructive: 356 63% 54%;
    --destructive-foreground: 0 0% 100%;
    --border: 217 33% 17%;
    --input: 217 33% 17%;
    --ring: 195 100% 45%;
  }
}

@layer base {
  * {
    @apply border-gray-200 dark:border-gray-700;
  }
  body {
    @apply bg-white text-gray-900 dark:bg-gray-900 dark:text-white;
  }
  
  /* Prevent layout shift when scrollbar appears/disappears */
  html {
    scrollbar-gutter: stable;
    overflow-y: scroll; /* Always show vertical scrollbar */
  }
  
  /* Ensure dropdowns don't cause layout shifts */
  [data-radix-popper-content-wrapper] {
    z-index: 60 !important;
  }
  
  /* Prevent layout shifts from dropdowns */
  body {
    overflow-x: hidden; /* Prevent horizontal scrollbar */
  }
  
  /* Fix for Radix UI Select components */
  [data-radix-select-content] {
    position: fixed !important;
    z-index: 60 !important;
  }
  
  /* Ensure consistent layout */
  .main-content {
    width: 100%;
    min-height: 100vh;
  }
  
  /* Additional fix for layout stability */
  * {
    box-sizing: border-box;
  }
  
  /* Prevent any layout shifts */
  .layout-stable {
    contain: layout;
  }
  
  /* Force consistent width for main content */
  .main-content {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 100% !important;
  }
  
  /* Prevent dropdowns from affecting layout */
  [data-radix-select-content] {
    position: fixed !important;
    z-index: 60 !important;
    transform: translateZ(0); /* Force hardware acceleration */
  }
  
  /* Ensure body doesn't change width */
  body {
    width: 100% !important;
    max-width: 100% !important;
  }
}

@layer components {
  .gradient-text {
    @apply bg-gradient-to-r from-primary-500 via-secondary-500 to-accent-orange-500 bg-clip-text text-transparent;
  }
  
  .gradient-bg {
    @apply bg-gradient-to-br from-primary-50 via-secondary-50 to-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900;
  }
  
  .card {
    @apply rounded-lg border border-gray-200 bg-white text-gray-900 shadow-sm dark:border-gray-700 dark:bg-gray-800 dark:text-white transition-all duration-300;
  }
  
  .card-hover {
    @apply card hover:shadow-lg hover:scale-[1.02] hover:border-primary-300 dark:hover:border-primary-600 cursor-pointer;
  }
  
  .card-header {
    @apply flex flex-col space-y-1.5 p-6;
  }
  
  .card-title {
    @apply text-2xl font-semibold leading-none tracking-tight;
  }
  
  .card-description {
    @apply text-sm text-gray-600 dark:text-gray-400;
  }
  
  .card-content {
    @apply p-6 pt-0;
  }
  
  .card-footer {
    @apply flex items-center p-6 pt-0;
  }
  
  /* Button variants */
  .btn-primary {
    @apply bg-primary-500 hover:bg-primary-600 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg;
  }
  
  .btn-secondary {
    @apply bg-secondary-500 hover:bg-secondary-600 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg;
  }
  
  /* Badge styles */
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
  }
  
  .badge-primary {
    @apply badge bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300;
  }
  
  .badge-secondary {
    @apply badge bg-secondary-100 text-secondary-700 dark:bg-secondary-900/30 dark:text-secondary-300;
  }
  
  .badge-success {
    @apply badge bg-accent-green-100 text-accent-green-700 dark:bg-accent-green-900/30 dark:text-accent-green-300;
  }
  
  /* Section container */
  .section-container {
    @apply w-full px-4 sm:px-6 lg:px-8 py-16 lg:py-24;
  }
  
  /* Smooth reveal on scroll */
  .reveal {
    @apply opacity-0 translate-y-8 transition-all duration-700 ease-out;
  }
  
  .reveal.active {
    @apply opacity-100 translate-y-0;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100 dark:bg-gray-800;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-300 dark:bg-gray-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400 dark:bg-gray-500;
}

/* Hide scrollbar for mobile nav */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

/* Smooth transitions */
* {
  transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

/* Line clamp utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Safe area and bottom navbar utilities */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom);
}

.mb-safe {
  margin-bottom: env(safe-area-inset-bottom);
}

/* Prevent horizontal scrolling on mobile */
html, body {
  overflow-x: hidden;
  position: relative;
}

/* React Flow edge animations */
@keyframes dash {
  from {
    stroke-dashoffset: 100;
  }
  to {
    stroke-dashoffset: 0;
  }
}

.react-flow__edge-path {
  animation: dash 20s linear infinite;
}

/* Flowchart node pulse effect */
@keyframes nodePulse {
  0%, 100% {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
  }
  50% {
    box-shadow: 0 0 40px rgba(59, 130, 246, 0.8);
  }
}

.react-flow__node {
  animation: nodePulse 3s ease-in-out infinite;
}

/* Ensure bottom navbar is always visible */
@media (max-width: 1023px) {
  body {
    padding-bottom: calc(4rem + env(safe-area-inset-bottom));
  }
}

/* Prevent touch scrolling issues on mobile */
@media (max-width: 1023px) {
  body {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: none;
  }
  
  /* Prevent horizontal scrolling */
  .overflow-x-hidden {
    overflow-x: hidden !important;
  }
}






